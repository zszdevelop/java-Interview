<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.59" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zszdevelop.github.io/java-study-gitbook/java/jvm/java-jvm-agent-arthas.html"><meta property="og:site_name" content="Java学习笔记"><meta property="og:title" content="调试排错 - Java 问题排查之应用在线调试Arthas"><meta property="og:description" content="1. Arthas简介 在学习Arthas之前，推荐先看上一篇美团技术团队的Java 动态调试技术原理及实践 (https://pdai.tech/md/java/jvm/java-jvm-agent-usage.html)，这样你会对它最底层技术有个了解。可以看下文中最后有个对比图：Greys(Arthas也是基于它做的二次开发)和Java-debu..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-02-20T13:42:31.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2023-02-20T13:42:31.000Z"><script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?78dc0e0b4e3aedf643d6621778307a6f";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
      </script><title>调试排错 - Java 问题排查之应用在线调试Arthas | Java学习笔记</title><meta name="description" content="1. Arthas简介 在学习Arthas之前，推荐先看上一篇美团技术团队的Java 动态调试技术原理及实践 (https://pdai.tech/md/java/jvm/java-jvm-agent-usage.html)，这样你会对它最底层技术有个了解。可以看下文中最后有个对比图：Greys(Arthas也是基于它做的二次开发)和Java-debu...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-21064aac.css" as="style"><link rel="stylesheet" href="/assets/style-21064aac.css">
    <link rel="modulepreload" href="/assets/app-891e5fab.js"><link rel="modulepreload" href="/assets/framework-0cf5f349.js"><link rel="modulepreload" href="/assets/java-jvm-agent-arthas.html-a0e0e314.js"><link rel="modulepreload" href="/assets/java-jvm-agent-arthas.html-dc6cb9c4.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="Java学习笔记"><!----><span class="site-name hide-in-pad">Java学习笔记</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-creative"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java/base/Java-basis-oop.html" class="nav-link" aria-label="Java基础"><!---->Java基础<!----></a></li><li class="dropdown-item"><a href="/java/io/java-io-overview.html" class="nav-link" aria-label="Java IO"><!---->Java IO<!----></a></li><li class="dropdown-item"><a href="/java/collection/java-collection-overview.html" class="nav-link" aria-label="Java集合"><!---->Java集合<!----></a></li><li class="dropdown-item"><a href="/java/thread/java-thread-x-theorty.html" class="nav-link" aria-label="Java并发"><!---->Java并发<!----></a></li><li class="dropdown-item"><a href="/java/java8/java8-lambda.html" class="nav-link" aria-label="Java8"><!---->Java8<!----></a></li><li class="dropdown-item"><a href="/java/jvm/jvm-overview.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title"><span class="icon iconfont icon-creative"></span>数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/db/sql/sql-x-basic.html" class="nav-link" aria-label="数据库基础/SQL基础"><!---->数据库基础/SQL基础<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Sql数据库</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/sql-mysql-overview.html" class="nav-link" aria-label="Mysql"><!---->Mysql<!----></a></li><li class="dropdown-subitem"><a href="/db/oracle/oracle-b-sequence.html" class="nav-link" aria-label="Oracle"><!---->Oracle<!----></a></li><li class="dropdown-subitem"><a href="/db/dm/dm-operation-console.html" class="nav-link" aria-label="达梦"><!---->达梦<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>NoSql数据库</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/db-redis-introduce.html" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a href="/db/mongodb/mongo-x-basic.html" class="nav-link" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/db/es/elasticsearch-x-introduce-1.html" class="nav-link" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li><li class="dropdown-subitem"><a href="/db/neo4j/neo4j-x-tutorial.html" class="nav-link" aria-label="Neo4J"><!---->Neo4J<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="框架|依赖"><span class="title"><span class="icon iconfont icon-creative"></span>框架|依赖</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dependencies/spring/spring-overview.html" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-subitem"><a href="/dependencies/spring-boot/springboot-x-overview.html" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ORM</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dependencies/mybatis/mybatis-y-arch.html" class="nav-link" aria-label="Mybatis"><!---->Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/dependencies/mybatis-plus/mybatis-plus-x-gen-code.html" class="nav-link" aria-label="Mybatis-Plus"><!---->Mybatis-Plus<!----></a></li></ul></li><li class="dropdown-item"><a href="/dependencies/office/office-x-aspose.html" class="nav-link" aria-label="Office文档操作"><!---->Office文档操作<!----></a></li><li class="dropdown-item"><a href="/dependencies/cas/cas-x-overview.html" class="nav-link" aria-label="CAS单点登录"><!---->CAS单点登录<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="开发|测试"><span class="title"><span class="icon iconfont icon-creative"></span>开发|测试</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/develop/devlibrary/dev-lib-lombok.html" class="nav-link" aria-label="开发-常用类库"><span class="icon iconfont icon-creative"></span>开发-常用类库<!----></a></li><li class="dropdown-item"><a href="/develop/security/dev-security-x-injection.html" class="nav-link" aria-label="开发-安全"><span class="icon iconfont icon-creative"></span>开发-安全<!----></a></li><li class="dropdown-item"><a href="/develop/optimization/optimization-x-interface-optimization.html" class="nav-link" aria-label="开发 - 优化"><span class="icon iconfont icon-creative"></span>开发 - 优化<!----></a></li><li class="dropdown-item"><a href="/develop/style/dev-qt-code-style.html" class="nav-link" aria-label="开发 - 规范/风格"><span class="icon iconfont icon-creative"></span>开发 - 规范/风格<!----></a></li><li class="dropdown-item"><a href="/develop/test/ut-overview" class="nav-link" aria-label="测试"><span class="icon iconfont icon-creative"></span>测试<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="软件|部署"><span class="title"><span class="icon iconfont icon-creative"></span>软件|部署</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/deploy/docker/docker-basic-overview.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-creative"></span>Docker<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>消息队列</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/deploy/mq/mq-a-overview.html" class="nav-link" aria-label="消息队列"><!---->消息队列<!----></a></li><li class="dropdown-subitem"><a href="/deploy/mq-rabbitmq/rabbitmq-x-overview.html" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/deploy/mq-kafka/kafka-x-overview.html" class="nav-link" aria-label="Kafka"><!---->Kafka<!----></a></li></ul></li><li class="dropdown-item"><a href="/deploy/skywalking/skywalking-x-principle.html" class="nav-link" aria-label="Skywalking"><span class="icon iconfont icon-creative"></span>Skywalking<!----></a></li><li class="dropdown-item"><a href="/deploy/linux/linux-j-monitor-overview.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-creative"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/deploy/jenkins/jenkins-overview.html" class="nav-link" aria-label="Jenkins"><span class="icon iconfont icon-creative"></span>Jenkins<!----></a></li><li class="dropdown-item"><a href="/deploy/nginx/nginx-x-overview.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-creative"></span>Nginx<!----></a></li><li class="dropdown-item"><a href="/deploy/deploy/docker-basic-overview" class="nav-link" aria-label="部署"><span class="icon iconfont icon-creative"></span>部署<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="架构|系统"><span class="title"><span class="icon iconfont icon-creative"></span>架构|系统</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/arch/base/arch-basic.html" class="nav-link" aria-label="架构基础"><span class="icon iconfont icon-creative"></span>架构基础<!----></a></li><li class="dropdown-item"><a href="/arch/distributed/arch-id.html" class="nav-link" aria-label="分布式系统"><span class="icon iconfont icon-creative"></span>分布式系统<!----></a></li><li class="dropdown-item"><a href="/arch/microservices/ms-overview.html" class="nav-link" aria-label="微服务"><span class="icon iconfont icon-creative"></span>微服务<!----></a></li><li class="dropdown-item"><a href="/arch/minio/minio-concept.html" class="nav-link" aria-label="对象存储-Minio"><span class="icon iconfont icon-creative"></span>对象存储-Minio<!----></a></li><li class="dropdown-item"><a href="/arch/manage-system/manage-system-technical-selection.html" class="nav-link" aria-label="后台管理系统"><span class="icon iconfont icon-creative"></span>后台管理系统<!----></a></li><li class="dropdown-item"><a href="/arch/mall/mall-sku.html" class="nav-link" aria-label="商城设计"><span class="icon iconfont icon-creative"></span>商城设计<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="语言|平台"><span class="title"><span class="icon iconfont icon-creative"></span>语言|平台</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/language/frontend-layout/flex-layout-overview.html" class="nav-link" aria-label="前端"><span class="icon iconfont icon-creative"></span>前端<!----></a></li><li class="dropdown-item"><a href="/language/python/python-advantage.html" class="nav-link" aria-label="python"><span class="icon iconfont icon-creative"></span>python<!----></a></li><li class="dropdown-item"><a href="/language/weixin/wx-package-Optimization.html" class="nav-link" aria-label="微信"><span class="icon iconfont icon-creative"></span>微信<!----></a></li><li class="dropdown-item"><a href="/language/ai/knowledge-graph-build.html" class="nav-link" aria-label="AI人工智能"><span class="icon iconfont icon-creative"></span>AI人工智能<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="杂项|思考"><span class="title"><span class="icon iconfont icon-creative"></span>杂项|思考</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/think/deepImpression/redis-bigdata-slow-problem.html" class="nav-link" aria-label="印象深刻bug"><span class="icon iconfont icon-creative"></span>印象深刻bug<!----></a></li><li class="dropdown-item"><a href="/think/optimization/optimization-x-frequent-operation-db.html" class="nav-link" aria-label="优化"><span class="icon iconfont icon-creative"></span>优化<!----></a></li><li class="dropdown-item"><a href="/think/misc/misc-x-middleware.html" class="nav-link" aria-label="杂项"><span class="icon iconfont icon-creative"></span>杂项<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zszdevelop/java-study-gitbook" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><div id="docsearch-container"></div><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java基础</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java-IO</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java集合</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">多线程与并发</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java8</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Jvm</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/java/jvm/jvm-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM相关知识体系详解"><!---->JVM相关知识体系详解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-class.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - 类字节码详解"><!---->JVM 基础 - 类字节码详解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-class-enhancer.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - 字节码的增强技术"><!---->JVM 基础 - 字节码的增强技术<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-classload.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - Java 类加载机制"><!---->JVM 基础 - Java 类加载机制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-struct.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - JVM 内存结构"><!---->JVM 基础 - JVM 内存结构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-heap-s.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - Java内存结构(精简版)"><!---->JVM 基础 - Java内存结构(精简版)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-x-introduce.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - Java 内存模型引入"><!---->JVM 基础 - Java 内存模型引入<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-jmm.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 基础 - Java 内存模型详解"><!---->JVM 基础 - Java 内存模型详解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc.html" class="nav-link sidebar-link sidebar-page" aria-label="GC - Java 垃圾回收基础知识"><!---->GC - Java 垃圾回收基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-g1.html" class="nav-link sidebar-link sidebar-page" aria-label="GC - Java 垃圾回收器之G1详解"><!---->GC - Java 垃圾回收器之G1详解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-g1-supplement.html" class="nav-link sidebar-link sidebar-page" aria-label="GC - Java 垃圾回收器之G1（补充）"><!---->GC - Java 垃圾回收器之G1（补充）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-cms-gc.html" class="nav-link sidebar-link sidebar-page" aria-label="GC - Java 垃圾回收器之CMS GC问题分析与解决"><!---->GC - Java 垃圾回收器之CMS GC问题分析与解决<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-param.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - JVM 调优参数"><!---->调试排错 - JVM 调优参数<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-oom.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 内存分析之堆内存和MetaSpace内存"><!---->调试排错 - Java 内存分析之堆内存和MetaSpace内存<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-oom-offheap.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 内存分析之堆外内存"><!---->调试排错 - Java 内存分析之堆外内存<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-thread-dump.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 线程分析之线程Dump分析"><!---->调试排错 - Java 线程分析之线程Dump分析<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-oom-tool.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 问题排查之JVM可视化工具"><!---->调试排错 - Java 问题排查之JVM可视化工具<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="调试排错 - Java 问题排查之应用在线调试Arthas"><!---->调试排错 - Java 问题排查之应用在线调试Arthas<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-arthas简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. Arthas简介"><!---->1. Arthas简介<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-1-arthas是什么" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 Arthas是什么"><!---->1.1 Arthas是什么<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-2-arthas能解决什么问题" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 Arthas能解决什么问题"><!---->1.2 Arthas能解决什么问题<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-3-arthas资源推荐" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 Arthas资源推荐"><!---->1.3 Arthas资源推荐<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-4-arthas基于了哪些工具上发展而来" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4 Arthas基于了哪些工具上发展而来"><!---->1.4 Arthas基于了哪些工具上发展而来<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-5-同类工具有哪些" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.5 同类工具有哪些"><!---->1.5 同类工具有哪些<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-arthas入门" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. Arthas入门"><!---->2. Arthas入门<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-1-arthas-上手前" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 Arthas 上手前"><!---->2.1 Arthas 上手前<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-2-arthas-安装" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 Arthas 安装"><!---->2.2 Arthas 安装<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-3-arthas-官方案例展示" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.3 Arthas 官方案例展示"><!---->2.3 Arthas 官方案例展示<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-4-arthas-命令集" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.4 Arthas 命令集"><!---->2.4 Arthas 命令集<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-arthas场景实战" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. Arthas场景实战"><!---->3. Arthas场景实战<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-1-查看最繁忙的线程-以及是否有阻塞情况发生" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 查看最繁忙的线程，以及是否有阻塞情况发生?"><!---->3.1 查看最繁忙的线程，以及是否有阻塞情况发生?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-2-确认某个类是否已被系统加载" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 确认某个类是否已被系统加载?"><!---->3.2 确认某个类是否已被系统加载?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-3-如何查看一个class类的源码信息" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 如何查看一个class类的源码信息?"><!---->3.3 如何查看一个class类的源码信息?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-4-重要-如何跟踪某个方法的返回值、入参" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.4 重要：如何跟踪某个方法的返回值、入参.... ?"><!---->3.4 重要：如何跟踪某个方法的返回值、入参.... ?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-5-如何看方法调用栈的信息" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.5 如何看方法调用栈的信息?"><!---->3.5 如何看方法调用栈的信息?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-6-重要-找到最耗时的方法调用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.6 重要：找到最耗时的方法调用?"><!---->3.6 重要：找到最耗时的方法调用?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-7-重要-如何临时更改代码运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.7 重要：如何临时更改代码运行?"><!---->3.7 重要：如何临时更改代码运行?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-8-我如何测试某个方法的性能问题" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.8 我如何测试某个方法的性能问题?"><!---->3.8 我如何测试某个方法的性能问题?<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_4-arthas源码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. Arthas源码"><!---->4. Arthas源码<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_5-优秀案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 优秀案例"><!---->5. 优秀案例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#参考文章" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="参考文章"><!---->参考文章<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-agent-arthas-problem.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Arthas 遇到的问题"><!---->调试排错 - Arthas 遇到的问题<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-debug-idea.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 问题排查之使用IDEA本地调试和远程调试"><!---->调试排错 - Java 问题排查之使用IDEA本地调试和远程调试<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-agent-usage.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java动态调试技术原理"><!---->调试排错 - Java动态调试技术原理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-help.html" class="nav-link sidebar-link sidebar-page" aria-label="GC中对象自救"><!---->GC中对象自救<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-log.html" class="nav-link sidebar-link sidebar-page" aria-label="gc日志分析"><!---->gc日志分析<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-optimization-size.html" class="nav-link sidebar-link sidebar-page" aria-label="Java堆设置多大合适"><!---->Java堆设置多大合适<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-adapter.html" class="nav-link sidebar-link sidebar-page" aria-label="Java如何选择合适的垃圾回收器"><!---->Java如何选择合适的垃圾回收器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-tools-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="JDK监控和故障处理工具汇总"><!---->JDK监控和故障处理工具汇总<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-optimization-jstack.html" class="nav-link sidebar-link sidebar-page" aria-label="jstack等命令的实现原理"><!---->jstack等命令的实现原理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-dispatch.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM 内存分配与回收"><!---->JVM 内存分配与回收<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-tools-visualvm.html" class="nav-link sidebar-link sidebar-page" aria-label="mac版idea配置visualvm"><!---->mac版idea配置visualvm<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-tools-mat-use.html" class="nav-link sidebar-link sidebar-page" aria-label="MAT使用"><!---->MAT使用<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-tools-mat.html" class="nav-link sidebar-link sidebar-page" aria-label="MAT安装"><!---->MAT安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-tools-mat-shallow.html" class="nav-link sidebar-link sidebar-page" aria-label="Shallow heap和Retained heap"><!---->Shallow heap和Retained heap<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-classload-tomcat.html" class="nav-link sidebar-link sidebar-page" aria-label="tomcat类加载器"><!---->tomcat类加载器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="垃圾收集器"><!---->垃圾收集器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-orth.html" class="nav-link sidebar-link sidebar-page" aria-label="垃圾收集器垃圾收集算法"><!---->垃圾收集器垃圾收集算法<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-optimization.html" class="nav-link sidebar-link sidebar-page" aria-label="如何合理的规划 JVM 性能调优"><!---->如何合理的规划 JVM 性能调优<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-object-die.html" class="nav-link sidebar-link sidebar-page" aria-label="对象已经死亡？"><!---->对象已经死亡？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-classload1.html" class="nav-link sidebar-link sidebar-page" aria-label="类加载器"><!---->类加载器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-classload-interview.html" class="nav-link sidebar-link sidebar-page" aria-label="类加载器（常见面试）"><!---->类加载器（常见面试）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/jvm.html" class="nav-link sidebar-link sidebar-page" aria-label="类加载过程"><!---->类加载过程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-classload-simplify.html" class="nav-link sidebar-link sidebar-page" aria-label="类加载过程(精简版)"><!---->类加载过程(精简版)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-gc-fullgc.html" class="nav-link sidebar-link sidebar-page" aria-label="线上如何排查FullGC(系统 CPU 突然飙升且 GC 频繁，你该如何排查)"><!---->线上如何排查FullGC(系统 CPU 突然飙升且 GC 频繁，你该如何排查)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-tools-mat-peoject.html" class="nav-link sidebar-link sidebar-page" aria-label="记一次MAT分析线上项目过程"><!---->记一次MAT分析线上项目过程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-debug-tools-linux.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 问题排查之Linux命令"><!---->调试排错 - Java 问题排查之Linux命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/jvm/java-jvm-debug-tools-list.html" class="nav-link sidebar-link sidebar-page" aria-label="调试排错 - Java 问题排查之工具单"><!---->调试排错 - Java 问题排查之工具单<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java-编译</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->调试排错 - Java 问题排查之应用在线调试Arthas</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://java.isture.com" target="_blank" rel="noopener noreferrer">zszdevelop</a></span><span property="author" content="zszdevelop"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-20T13:42:31.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="category-item category4" role>Java</span><span class="category-item category1" role>JVM</span><meta property="articleSection" content="Java,JVM"></span><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 15 分钟</span><meta property="timeRequired" content="PT15M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-arthas简介" class="router-link-active router-link-exact-active toc-link level2">1. Arthas简介</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-1-arthas是什么" class="router-link-active router-link-exact-active toc-link level3">1.1 Arthas是什么</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-2-arthas能解决什么问题" class="router-link-active router-link-exact-active toc-link level3">1.2 Arthas能解决什么问题</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-3-arthas资源推荐" class="router-link-active router-link-exact-active toc-link level3">1.3 Arthas资源推荐</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-4-arthas基于了哪些工具上发展而来" class="router-link-active router-link-exact-active toc-link level3">1.4 Arthas基于了哪些工具上发展而来</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_1-5-同类工具有哪些" class="router-link-active router-link-exact-active toc-link level3">1.5 同类工具有哪些</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-arthas入门" class="router-link-active router-link-exact-active toc-link level2">2. Arthas入门</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-1-arthas-上手前" class="router-link-active router-link-exact-active toc-link level3">2.1 Arthas 上手前</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-2-arthas-安装" class="router-link-active router-link-exact-active toc-link level3">2.2 Arthas 安装</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-3-arthas-官方案例展示" class="router-link-active router-link-exact-active toc-link level3">2.3 Arthas 官方案例展示</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_2-4-arthas-命令集" class="router-link-active router-link-exact-active toc-link level3">2.4 Arthas 命令集</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-arthas场景实战" class="router-link-active router-link-exact-active toc-link level2">3. Arthas场景实战</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-1-查看最繁忙的线程-以及是否有阻塞情况发生" class="router-link-active router-link-exact-active toc-link level3">3.1 查看最繁忙的线程，以及是否有阻塞情况发生?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-2-确认某个类是否已被系统加载" class="router-link-active router-link-exact-active toc-link level3">3.2 确认某个类是否已被系统加载?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-3-如何查看一个class类的源码信息" class="router-link-active router-link-exact-active toc-link level3">3.3 如何查看一个class类的源码信息?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-4-重要-如何跟踪某个方法的返回值、入参" class="router-link-active router-link-exact-active toc-link level3">3.4 重要：如何跟踪某个方法的返回值、入参.... ?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-5-如何看方法调用栈的信息" class="router-link-active router-link-exact-active toc-link level3">3.5 如何看方法调用栈的信息?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-6-重要-找到最耗时的方法调用" class="router-link-active router-link-exact-active toc-link level3">3.6 重要：找到最耗时的方法调用?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-7-重要-如何临时更改代码运行" class="router-link-active router-link-exact-active toc-link level3">3.7 重要：如何临时更改代码运行?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_3-8-我如何测试某个方法的性能问题" class="router-link-active router-link-exact-active toc-link level3">3.8 我如何测试某个方法的性能问题?</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_4-arthas源码" class="router-link-active router-link-exact-active toc-link level2">4. Arthas源码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#_5-优秀案例" class="router-link-active router-link-exact-active toc-link level2">5. 优秀案例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/jvm/java-jvm-agent-arthas.html#参考文章" class="router-link-active router-link-exact-active toc-link level2">参考文章</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="调试排错-java-问题排查之应用在线调试arthas" tabindex="-1"><a class="header-anchor" href="#调试排错-java-问题排查之应用在线调试arthas" aria-hidden="true">#</a> 调试排错 - Java 问题排查之应用在线调试Arthas</h1><h2 id="_1-arthas简介" tabindex="-1"><a class="header-anchor" href="#_1-arthas简介" aria-hidden="true">#</a> 1. Arthas简介</h2><blockquote><p>在学习Arthas之前，推荐先看上一篇美团技术团队的<a href="https://pdai.tech/md/java/jvm/java-jvm-agent-usage.html" target="_blank" rel="noopener noreferrer">Java 动态调试技术原理及实践<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，这样你会对它最底层技术有个了解。可以看下文中最后有个对比图：Greys(Arthas也是基于它做的二次开发)和Java-debug-tool。</p></blockquote><h3 id="_1-1-arthas是什么" tabindex="-1"><a class="header-anchor" href="#_1-1-arthas是什么" aria-hidden="true">#</a> 1.1 Arthas是什么</h3><p><code>Arthas</code> 是Alibaba开源的Java诊断工具，深受开发者喜爱。</p><h3 id="_1-2-arthas能解决什么问题" tabindex="-1"><a class="header-anchor" href="#_1-2-arthas能解决什么问题" aria-hidden="true">#</a> 1.2 Arthas能解决什么问题</h3><p>当你遇到以下类似问题而束手无策时，<code>Arthas</code>可以帮助你解决：</p><ul><li>这个类从哪个 jar 包加载的? 为什么会报各种类相关的 Exception?</li><li>我改的代码为什么没有执行到? 难道是我没 commit? 分支搞错了?</li><li>遇到问题无法在线上 debug，难道只能通过加日志再重新发布吗?</li><li>线上遇到某个用户的数据处理有问题，但线上同样无法 debug，线下无法重现！</li><li>是否有一个全局视角来查看系统的运行状况?</li><li>有什么办法可以监控到JVM的实时运行状态?</li></ul><p><code>Arthas</code>支持JDK 6+，支持Linux/Mac/Windows，采用命令行交互模式，同时提供丰富的 <code>Tab</code> 自动补全功能，进一步方便进行问题的定位和诊断。</p><h3 id="_1-3-arthas资源推荐" tabindex="-1"><a class="header-anchor" href="#_1-3-arthas资源推荐" aria-hidden="true">#</a> 1.3 Arthas资源推荐</h3><ul><li><a href="https://alibaba.github.io/arthas/" target="_blank" rel="noopener noreferrer">用户文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alibaba.github.io/arthas/arthas-tutorials?language=cn" target="_blank" rel="noopener noreferrer">官方在线教程(推荐) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alibaba.github.io/arthas/quick-start.html" target="_blank" rel="noopener noreferrer">快速入门<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alibaba.github.io/arthas/advanced-use.html" target="_blank" rel="noopener noreferrer">进阶使用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alibaba.github.io/arthas/commands.html" target="_blank" rel="noopener noreferrer">命令列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alibaba.github.io/arthas/web-console.html" target="_blank" rel="noopener noreferrer">WebConsole <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://alibaba.github.io/arthas/docker.html" target="_blank" rel="noopener noreferrer">Docker<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/alibaba/arthas/issues?q=label%3Auser-case" target="_blank" rel="noopener noreferrer">用户案例<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/alibaba/arthas/issues?utf8=%E2%9C%93&amp;q=label%3Aquestion-answered+" target="_blank" rel="noopener noreferrer">常见问题<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="_1-4-arthas基于了哪些工具上发展而来" tabindex="-1"><a class="header-anchor" href="#_1-4-arthas基于了哪些工具上发展而来" aria-hidden="true">#</a> 1.4 Arthas基于了哪些工具上发展而来</h3><ul><li><a href="https://github.com/oldmanpushcart/greys-anatomy" target="_blank" rel="noopener noreferrer">greys-anatomy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: Arthas代码基于Greys二次开发而来，非常感谢Greys之前所有的工作，以及Greys原作者对Arthas提出的意见和建议！</li><li><a href="https://github.com/termd/termd" target="_blank" rel="noopener noreferrer">termd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: Arthas的命令行实现基于termd开发，是一款优秀的命令行程序开发框架，感谢termd提供了优秀的框架。</li><li><a href="https://github.com/crashub/crash" target="_blank" rel="noopener noreferrer">crash<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: Arthas的文本渲染功能基于crash中的文本渲染功能开发，可以从<a href="https://github.com/crashub/crash/tree/1.3.2/shell" target="_blank" rel="noopener noreferrer">这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>看到源码，感谢crash在这方面所做的优秀工作。</li><li><a href="https://github.com/eclipse-vertx/vert.x/tree/master/src/main/java/io/vertx/core/cli" target="_blank" rel="noopener noreferrer">cli<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: Arthas的命令行界面基于vert.x提供的cli库进行开发，感谢vert.x在这方面做的优秀工作。</li><li><a href="https://github.com/skalogs/SkaETL/tree/master/compiler" target="_blank" rel="noopener noreferrer">compiler<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Arthas里的内存编绎器代码来源</li><li><a href="https://commons.apache.org/proper/commons-net/" target="_blank" rel="noopener noreferrer">Apache Commons Net<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Arthas里的Telnet Client代码来源</li><li><code>JavaAgent</code>：运行在 main方法之前的拦截器，它内定的方法名叫 premain ，也就是说先执行 premain 方法然后再执行 main 方法</li><li><code>ASM</code>：一个通用的Java字节码操作和分析框架。它可以用于修改现有的类或直接以二进制形式动态生成类。ASM提供了一些常见的字节码转换和分析算法，可以从它们构建定制的复杂转换和代码分析工具。ASM提供了与其他Java字节码框架类似的功能，但是主要关注性能。因为它被设计和实现得尽可能小和快，所以非常适合在动态系统中使用(当然也可以以静态方式使用，例如在编译器中)</li></ul><h3 id="_1-5-同类工具有哪些" tabindex="-1"><a class="header-anchor" href="#_1-5-同类工具有哪些" aria-hidden="true">#</a> 1.5 同类工具有哪些</h3><ul><li>BTrace</li><li>美团 Java-debug-tool</li><li><a href="https://github.com/qunarcorp/bistoury" target="_blank" rel="noopener noreferrer">去哪儿Bistoury: 一个集成了Arthas的项目<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/XhinLiang/arthas" target="_blank" rel="noopener noreferrer">一个使用MVEL脚本的fork <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_2-arthas入门" tabindex="-1"><a class="header-anchor" href="#_2-arthas入门" aria-hidden="true">#</a> 2. Arthas入门</h2><h3 id="_2-1-arthas-上手前" tabindex="-1"><a class="header-anchor" href="#_2-1-arthas-上手前" aria-hidden="true">#</a> 2.1 Arthas 上手前</h3><p>推荐先在线使用下arthas：<a href="https://arthas.aliyun.com/doc/arthas-tutorials.html?language=cn&amp;id=arthas-basics" target="_blank" rel="noopener noreferrer">官方在线教程(推荐) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_2-2-arthas-安装" tabindex="-1"><a class="header-anchor" href="#_2-2-arthas-安装" aria-hidden="true">#</a> 2.2 Arthas 安装</h3><p>下载<code>arthas-boot.jar</code>，然后用<code>java -jar</code>的方式启动：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-O</span> https://alibaba.github.io/arthas/arthas-boot.jar
<span class="token function">java</span> <span class="token parameter variable">-jar</span> arthas-boot.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-arthas-官方案例展示" tabindex="-1"><a class="header-anchor" href="#_2-3-arthas-官方案例展示" aria-hidden="true">#</a> 2.3 Arthas 官方案例展示</h3><h4 id="_2-3-1-dashboard" tabindex="-1"><a class="header-anchor" href="#_2-3-1-dashboard" aria-hidden="true">#</a> 2.3.1 Dashboard</h4><ul><li><a href="https://alibaba.github.io/arthas/dashboard" target="_blank" rel="noopener noreferrer">https://alibaba.github.io/arthas/dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220827222601003.png" alt="image-20220827222601003" tabindex="0" loading="lazy"><figcaption>image-20220827222601003</figcaption></figure><h4 id="_2-3-2-thread" tabindex="-1"><a class="header-anchor" href="#_2-3-2-thread" aria-hidden="true">#</a> 2.3.2 Thread</h4><p>一目了然的了解系统的状态，哪些线程比较占cpu? 他们到底在做什么?</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ thread <span class="token parameter variable">-n</span> <span class="token number">3</span>
<span class="token string">&quot;as-command-execute-daemon&quot;</span> <span class="token assign-left variable">Id</span><span class="token operator">=</span><span class="token number">29</span> <span class="token assign-left variable">cpuUsage</span><span class="token operator">=</span><span class="token number">75</span>% RUNNABLE
    at sun.management.ThreadImpl.dumpThreads0<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
    at sun.management.ThreadImpl.getThreadInfo<span class="token punctuation">(</span>ThreadImpl.java:440<span class="token punctuation">)</span>
    at com.taobao.arthas.core.command.monitor200.ThreadCommand<span class="token variable">$1</span>.action<span class="token punctuation">(</span>ThreadCommand.java:58<span class="token punctuation">)</span>
    at com.taobao.arthas.core.command.handler.AbstractCommandHandler.execute<span class="token punctuation">(</span>AbstractCommandHandler.java:238<span class="token punctuation">)</span>
    at com.taobao.arthas.core.command.handler.DefaultCommandHandler.handleCommand<span class="token punctuation">(</span>DefaultCommandHandler.java:67<span class="token punctuation">)</span>
    at com.taobao.arthas.core.server.ArthasServer<span class="token variable">$4</span>.run<span class="token punctuation">(</span>ArthasServer.java:276<span class="token punctuation">)</span>
    at java.util.concurrent.ThreadPoolExecutor.runWorker<span class="token punctuation">(</span>ThreadPoolExecutor.java:1145<span class="token punctuation">)</span>
    at java.util.concurrent.ThreadPoolExecutor<span class="token variable">$Worker</span>.run<span class="token punctuation">(</span>ThreadPoolExecutor.java:615<span class="token punctuation">)</span>
    at java.lang.Thread.run<span class="token punctuation">(</span>Thread.java:745<span class="token punctuation">)</span>

    Number of locked synchronizers <span class="token operator">=</span> <span class="token number">1</span>
    - java.util.concurrent.ThreadPoolExecutor<span class="token variable">$Worker</span>@6cd0b6f8

<span class="token string">&quot;as-session-expire-daemon&quot;</span> <span class="token assign-left variable">Id</span><span class="token operator">=</span><span class="token number">25</span> <span class="token assign-left variable">cpuUsage</span><span class="token operator">=</span><span class="token number">24</span>% TIMED_WAITING
    at java.lang.Thread.sleep<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
    at com.taobao.arthas.core.server.DefaultSessionManager<span class="token variable">$2</span>.run<span class="token punctuation">(</span>DefaultSessionManager.java:85<span class="token punctuation">)</span>

<span class="token string">&quot;Reference Handler&quot;</span> <span class="token assign-left variable">Id</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">cpuUsage</span><span class="token operator">=</span><span class="token number">0</span>% WAITING on java.lang.ref.Reference<span class="token variable">$Lock</span>@69ba0f27
    at java.lang.Object.wait<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
    -  waiting on java.lang.ref.Reference<span class="token variable">$Lock</span>@69ba0f27
    at java.lang.Object.wait<span class="token punctuation">(</span>Object.java:503<span class="token punctuation">)</span>
    at java.lang.ref.Reference<span class="token variable">$ReferenceHandler</span>.run<span class="token punctuation">(</span>Reference.java:133<span class="token punctuation">)</span>

  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-3-jad" tabindex="-1"><a class="header-anchor" href="#_2-3-3-jad" aria-hidden="true">#</a> 2.3.3 jad</h4><p>对类进行反编译:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>$ jad <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>Servlet</span>

<span class="token class-name">ClassLoader</span><span class="token operator">:</span>
<span class="token operator">+</span><span class="token operator">-</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URLClassLoader</span><span class="token annotation punctuation">@6108b2d7</span>
  <span class="token operator">+</span><span class="token operator">-</span><span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span>Launcher</span>$<span class="token class-name">AppClassLoader</span><span class="token annotation punctuation">@18b4aac2</span>
    <span class="token operator">+</span><span class="token operator">-</span><span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span>Launcher</span>$<span class="token class-name">ExtClassLoader</span><span class="token annotation punctuation">@1ddf84b8</span>

<span class="token class-name">Location</span><span class="token operator">:</span>
<span class="token operator">/</span><span class="token class-name">Users</span><span class="token operator">/</span>xxx<span class="token operator">/</span>work<span class="token operator">/</span>test<span class="token operator">/</span>lib<span class="token operator">/</span>servlet<span class="token operator">-</span>api<span class="token punctuation">.</span>jar

<span class="token comment">/*
 * Decompiled with CFR 0_122.
 */</span>
<span class="token keyword">package</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> var1<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> var2<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-4-mc" tabindex="-1"><a class="header-anchor" href="#_2-3-4-mc" aria-hidden="true">#</a> 2.3.4 mc</h4><p>Memory Compiler/内存编译器，编译<code>.java</code>文件生成<code>.class</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mc</span> /tmp/Test.java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-3-5-redefine" tabindex="-1"><a class="header-anchor" href="#_2-3-5-redefine" aria-hidden="true">#</a> 2.3.5 redefine</h4><p>加载外部的<code>.class</code>文件，redefine jvm已加载的类。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redefine /tmp/Test.class
redefine <span class="token parameter variable">-c</span> 327a647b /tmp/Test.class /tmp/Test<span class="token punctuation">\</span><span class="token variable">$Inner</span>.class
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-6-sc" tabindex="-1"><a class="header-anchor" href="#_2-3-6-sc" aria-hidden="true">#</a> 2.3.6 sc</h4><p>查找JVM中已经加载的类</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ sc <span class="token parameter variable">-d</span> org.springframework.web.context.support.XmlWebApplicationContext
 class-info        org.springframework.web.context.support.XmlWebApplicationContext
 code-source       /Users/xxx/work/test/WEB-INF/lib/spring-web-3.2.11.RELEASE.jar
 name              org.springframework.web.context.support.XmlWebApplicationContext
 isInterface       <span class="token boolean">false</span>
 isAnnotation      <span class="token boolean">false</span>
 isEnum            <span class="token boolean">false</span>
 isAnonymousClass  <span class="token boolean">false</span>
 isArray           <span class="token boolean">false</span>
 isLocalClass      <span class="token boolean">false</span>
 isMemberClass     <span class="token boolean">false</span>
 isPrimitive       <span class="token boolean">false</span>
 isSynthetic       <span class="token boolean">false</span>
 simple-name       XmlWebApplicationContext
 modifier          public
 annotation
 interfaces
 super-class       +-org.springframework.web.context.support.AbstractRefreshableWebApplicationContext
                     +-org.springframework.context.support.AbstractRefreshableConfigApplicationContext
                       +-org.springframework.context.support.AbstractRefreshableApplicationContext
                         +-org.springframework.context.support.AbstractApplicationContext
                           +-org.springframework.core.io.DefaultResourceLoader
                             +-java.lang.Object
 class-loader      +-org.apache.catalina.loader.ParallelWebappClassLoader
                     +-java.net.URLClassLoader@6108b2d7
                       +-sun.misc.Launcher<span class="token variable">$AppClassLoader</span>@18b4aac2
                         +-sun.misc.Launcher<span class="token variable">$ExtClassLoader</span>@1ddf84b8
 classLoaderHash   <span class="token number">25131501</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-7-stack" tabindex="-1"><a class="header-anchor" href="#_2-3-7-stack" aria-hidden="true">#</a> 2.3.7 stack</h4><p>查看方法 <code>test.arthas.TestStack#doGet</code> 的调用堆栈：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ stack test.arthas.TestStack doGet
Press Ctrl+C to abort.
Affect<span class="token punctuation">(</span>class-cnt:1 , method-cnt:1<span class="token punctuation">)</span> cost <span class="token keyword">in</span> <span class="token number">286</span> ms.
<span class="token assign-left variable">ts</span><span class="token operator">=</span><span class="token number">2018</span>-09-18 <span class="token number">10</span>:11:45<span class="token punctuation">;</span><span class="token assign-left variable">thread_name</span><span class="token operator">=</span>http-bio-8080-exec-10<span class="token punctuation">;</span><span class="token assign-left variable">id</span><span class="token operator">=</span>d9<span class="token punctuation">;</span><span class="token assign-left variable">is_daemon</span><span class="token operator">=</span>true<span class="token punctuation">;</span><span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token assign-left variable">TCCL</span><span class="token operator">=</span>org.apache.catalina.loader.ParallelWebappClassLoader@25131501
    @test.arthas.TestStack.doGet<span class="token punctuation">(</span><span class="token punctuation">)</span>
        at javax.servlet.http.HttpServlet.service<span class="token punctuation">(</span>HttpServlet.java:624<span class="token punctuation">)</span>
        at javax.servlet.http.HttpServlet.service<span class="token punctuation">(</span>HttpServlet.java:731<span class="token punctuation">)</span>
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter<span class="token punctuation">(</span>ApplicationFilterChain.java:303<span class="token punctuation">)</span>
        at org.apache.catalina.core.ApplicationFilterChain.doFilter<span class="token punctuation">(</span>ApplicationFilterChain.java:208<span class="token punctuation">)</span>
        at org.apache.tomcat.websocket.server.WsFilter.doFilter<span class="token punctuation">(</span>WsFilter.java:52<span class="token punctuation">)</span>
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter<span class="token punctuation">(</span>ApplicationFilterChain.java:241<span class="token punctuation">)</span>
        at org.apache.catalina.core.ApplicationFilterChain.doFilter<span class="token punctuation">(</span>ApplicationFilterChain.java:208<span class="token punctuation">)</span>
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter<span class="token punctuation">(</span>ApplicationFilterChain.java:241<span class="token punctuation">)</span>
        at org.apache.catalina.core.ApplicationFilterChain.doFilter<span class="token punctuation">(</span>ApplicationFilterChain.java:208<span class="token punctuation">)</span>
        at org.apache.catalina.core.StandardWrapperValve.invoke<span class="token punctuation">(</span>StandardWrapperValve.java:220<span class="token punctuation">)</span>
        at org.apache.catalina.core.StandardContextValve.invoke<span class="token punctuation">(</span>StandardContextValve.java:110<span class="token punctuation">)</span>
        <span class="token punctuation">..</span>.
        at org.apache.catalina.core.StandardHostValve.invoke<span class="token punctuation">(</span>StandardHostValve.java:169<span class="token punctuation">)</span>
        at org.apache.catalina.valves.ErrorReportValve.invoke<span class="token punctuation">(</span>ErrorReportValve.java:103<span class="token punctuation">)</span>
        at org.apache.catalina.core.StandardEngineValve.invoke<span class="token punctuation">(</span>StandardEngineValve.java:116<span class="token punctuation">)</span>
        at org.apache.catalina.connector.CoyoteAdapter.service<span class="token punctuation">(</span>CoyoteAdapter.java:451<span class="token punctuation">)</span>
        at org.apache.coyote.http11.AbstractHttp11Processor.process<span class="token punctuation">(</span>AbstractHttp11Processor.java:1121<span class="token punctuation">)</span>
        at org.apache.coyote.AbstractProtocol<span class="token variable">$AbstractConnectionHandler</span>.process<span class="token punctuation">(</span>AbstractProtocol.java:637<span class="token punctuation">)</span>
        at org.apache.tomcat.util.net.JIoEndpoint<span class="token variable">$SocketProcessor</span>.run<span class="token punctuation">(</span>JIoEndpoint.java:316<span class="token punctuation">)</span>
        at java.util.concurrent.ThreadPoolExecutor.runWorker<span class="token punctuation">(</span>ThreadPoolExecutor.java:1142<span class="token punctuation">)</span>
        at java.util.concurrent.ThreadPoolExecutor<span class="token variable">$Worker</span>.run<span class="token punctuation">(</span>ThreadPoolExecutor.java:617<span class="token punctuation">)</span>
        at org.apache.tomcat.util.threads.TaskThread<span class="token variable">$WrappingRunnable</span>.run<span class="token punctuation">(</span>TaskThread.java:61<span class="token punctuation">)</span>
        at java.lang.Thread.run<span class="token punctuation">(</span>Thread.java:745<span class="token punctuation">)</span>

  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-8-trace" tabindex="-1"><a class="header-anchor" href="#_2-3-8-trace" aria-hidden="true">#</a> 2.3.8 Trace</h4><p>观察方法执行的时候哪个子调用比较慢:</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220827223031123.png" alt="image-20220827223031123" tabindex="0" loading="lazy"><figcaption>image-20220827223031123</figcaption></figure><h4 id="_2-3-9-watch" tabindex="-1"><a class="header-anchor" href="#_2-3-9-watch" aria-hidden="true">#</a> 2.3.9 Watch</h4><p>观察方法 <code>test.arthas.TestWatch#doGet</code> 执行的入参，仅当方法抛出异常时才输出。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">watch</span> test.arthas.TestWatch doGet <span class="token punctuation">{</span>params<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>, throwExp<span class="token punctuation">}</span> <span class="token parameter variable">-e</span>
Press Ctrl+C to abort.
Affect<span class="token punctuation">(</span>class-cnt:1 , method-cnt:1<span class="token punctuation">)</span> cost <span class="token keyword">in</span> <span class="token number">65</span> ms.
<span class="token assign-left variable">ts</span><span class="token operator">=</span><span class="token number">2018</span>-09-18 <span class="token number">10</span>:26:28<span class="token punctuation">;</span><span class="token assign-left variable">result</span><span class="token operator">=</span>@ArrayList<span class="token punctuation">[</span>
    @RequestFacade<span class="token punctuation">[</span>org.apache.catalina.connector.RequestFacade@79f922b2<span class="token punctuation">]</span>,
    @NullPointerException<span class="token punctuation">[</span>java.lang.NullPointerException<span class="token punctuation">]</span>,
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-10-monitor" tabindex="-1"><a class="header-anchor" href="#_2-3-10-monitor" aria-hidden="true">#</a> 2.3.10 Monitor</h4><p>监控某个特殊方法的调用统计数据，包括总调用次数，平均rt，成功率等信息，每隔5秒输出一次。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ monitor <span class="token parameter variable">-c</span> <span class="token number">5</span> org.apache.dubbo.demo.provider.DemoServiceImpl sayHello
Press Ctrl+C to abort.
Affect<span class="token punctuation">(</span>class-cnt:1 , method-cnt:1<span class="token punctuation">)</span> cost <span class="token keyword">in</span> <span class="token number">109</span> ms.
 timestamp            class                                           method    total  success  fail  avg-rt<span class="token punctuation">(</span>ms<span class="token punctuation">)</span>  fail-rate
----------------------------------------------------------------------------------------------------------------------------
 <span class="token number">2018</span>-09-20 09:45:32  org.apache.dubbo.demo.provider.DemoServiceImpl  sayHello  <span class="token number">5</span>      <span class="token number">5</span>        <span class="token number">0</span>     <span class="token number">0.67</span>        <span class="token number">0.00</span>%

 timestamp            class                                           method    total  success  fail  avg-rt<span class="token punctuation">(</span>ms<span class="token punctuation">)</span>  fail-rate
----------------------------------------------------------------------------------------------------------------------------
 <span class="token number">2018</span>-09-20 09:45:37  org.apache.dubbo.demo.provider.DemoServiceImpl  sayHello  <span class="token number">5</span>      <span class="token number">5</span>        <span class="token number">0</span>     <span class="token number">1.00</span>        <span class="token number">0.00</span>%

 timestamp            class                                           method    total  success  fail  avg-rt<span class="token punctuation">(</span>ms<span class="token punctuation">)</span>  fail-rate
----------------------------------------------------------------------------------------------------------------------------
 <span class="token number">2018</span>-09-20 09:45:42  org.apache.dubbo.demo.provider.DemoServiceImpl  sayHello  <span class="token number">5</span>      <span class="token number">5</span>        <span class="token number">0</span>     <span class="token number">0.43</span>        <span class="token number">0.00</span>%

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-11-time-tunnel-tt" tabindex="-1"><a class="header-anchor" href="#_2-3-11-time-tunnel-tt" aria-hidden="true">#</a> 2.3.11 Time Tunnel(tt)</h4><p>记录方法调用信息，支持事后查看方法调用的参数，返回值，抛出的异常等信息，仿佛穿越时空隧道回到调用现场一般。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ tt <span class="token parameter variable">-t</span> org.apache.dubbo.demo.provider.DemoServiceImpl sayHello
Press Ctrl+C to abort.
Affect<span class="token punctuation">(</span>class-cnt:1 , method-cnt:1<span class="token punctuation">)</span> cost <span class="token keyword">in</span> <span class="token number">75</span> ms.
 INDEX   TIMESTAMP            COST<span class="token punctuation">(</span>ms<span class="token punctuation">)</span>  IS-RET  IS-EXP   OBJECT         CLASS                          METHOD
-------------------------------------------------------------------------------------------------------------------------------------
 <span class="token number">1000</span>    <span class="token number">2018</span>-09-20 09:54:10  <span class="token number">1.971195</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1001</span>    <span class="token number">2018</span>-09-20 09:54:11  <span class="token number">0.215685</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1002</span>    <span class="token number">2018</span>-09-20 09:54:12  <span class="token number">0.236303</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1003</span>    <span class="token number">2018</span>-09-20 09:54:13  <span class="token number">0.159598</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1004</span>    <span class="token number">2018</span>-09-20 09:54:14  <span class="token number">0.201982</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1005</span>    <span class="token number">2018</span>-09-20 09:54:15  <span class="token number">0.214205</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1006</span>    <span class="token number">2018</span>-09-20 09:54:16  <span class="token number">0.241863</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1007</span>    <span class="token number">2018</span>-09-20 09:54:17  <span class="token number">0.305747</span>  <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
 <span class="token number">1008</span>    <span class="token number">2018</span>-09-20 09:54:18  <span class="token number">0.18468</span>   <span class="token boolean">true</span>    <span class="token boolean">false</span>    0x55965cca     DemoServiceImpl                sayHello
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-12-classloader" tabindex="-1"><a class="header-anchor" href="#_2-3-12-classloader" aria-hidden="true">#</a> 2.3.12 Classloader</h4><p>了解当前系统中有多少类加载器，以及每个加载器加载的类数量，帮助您判断是否有类加载器泄露。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ classloader
 name                                                  numberOfInstances  loadedCountTotal
 BootstrapClassLoader                                  <span class="token number">1</span>                  <span class="token number">3346</span>
 com.taobao.arthas.agent.ArthasClassloader             <span class="token number">1</span>                  <span class="token number">1262</span>
 java.net.URLClassLoader                               <span class="token number">2</span>                  <span class="token number">1033</span>
 org.apache.catalina.loader.ParallelWebappClassLoader  <span class="token number">1</span>                  <span class="token number">628</span>
 sun.reflect.DelegatingClassLoader                     <span class="token number">166</span>                <span class="token number">166</span>
 sun.misc.Launcher<span class="token variable">$AppClassLoader</span>                      <span class="token number">1</span>                  <span class="token number">31</span>
 com.alibaba.fastjson.util.ASMClassLoader              <span class="token number">6</span>                  <span class="token number">15</span>
 sun.misc.Launcher<span class="token variable">$ExtClassLoader</span>                      <span class="token number">1</span>                  <span class="token number">7</span>
 org.jvnet.hk2.internal.DelegatingClassLoader          <span class="token number">2</span>                  <span class="token number">2</span>
 sun.reflect.misc.MethodUtil                           <span class="token number">1</span>                  <span class="token number">1</span>

  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-13-web-console" tabindex="-1"><a class="header-anchor" href="#_2-3-13-web-console" aria-hidden="true">#</a> 2.3.13 Web Console</h4><ul><li><a href="https://alibaba.github.io/arthas/web-console" target="_blank" rel="noopener noreferrer">https://alibaba.github.io/arthas/web-console<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220827223405858.png" alt="image-20220827223405858" tabindex="0" loading="lazy"><figcaption>image-20220827223405858</figcaption></figure><h3 id="_2-4-arthas-命令集" tabindex="-1"><a class="header-anchor" href="#_2-4-arthas-命令集" aria-hidden="true">#</a> 2.4 Arthas 命令集</h3><h4 id="_2-4-1-基础命令" tabindex="-1"><a class="header-anchor" href="#_2-4-1-基础命令" aria-hidden="true">#</a> 2.4.1 基础命令</h4><ul><li>help——查看命令帮助信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/cat.md" target="_blank" rel="noopener noreferrer">cat<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——打印文件内容，和linux里的cat命令类似</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/grep.md" target="_blank" rel="noopener noreferrer">grep<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——匹配查找，和linux里的grep命令类似</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/pwd.md" target="_blank" rel="noopener noreferrer">pwd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——返回当前的工作目录，和linux命令类似</li><li>cls——清空当前屏幕区域</li><li>session——查看当前会话的信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/reset.md" target="_blank" rel="noopener noreferrer">reset<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——重置增强类，将被 Arthas 增强过的类全部还原，Arthas 服务端关闭时会重置所有增强过的类</li><li>version——输出当前目标 Java 进程所加载的 Arthas 版本号</li><li>history——打印命令历史</li><li>quit——退出当前 Arthas 客户端，其他 Arthas 客户端不受影响</li><li>stop/shutdown——关闭 Arthas 服务端，所有 Arthas 客户端全部退出</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/keymap.md" target="_blank" rel="noopener noreferrer">keymap<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——Arthas快捷键列表及自定义快捷键</li></ul><h4 id="_2-4-2-jvm相关" tabindex="-1"><a class="header-anchor" href="#_2-4-2-jvm相关" aria-hidden="true">#</a> 2.4.2 jvm相关</h4><ul><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/dashboard.md" target="_blank" rel="noopener noreferrer">dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——当前系统的实时数据面板</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/thread.md" target="_blank" rel="noopener noreferrer">thread<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看当前 JVM 的线程堆栈信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/jvm.md" target="_blank" rel="noopener noreferrer">jvm<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看当前 JVM 的信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/sysprop.md" target="_blank" rel="noopener noreferrer">sysprop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看和修改JVM的系统属性</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/sysenv.md" target="_blank" rel="noopener noreferrer">sysenv<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看JVM的环境变量</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/vmoption.md" target="_blank" rel="noopener noreferrer">vmoption<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看和修改JVM里诊断相关的option</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/logger.md" target="_blank" rel="noopener noreferrer">logger<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看和修改logger</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/getstatic.md" target="_blank" rel="noopener noreferrer">getstatic<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看类的静态属性</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/ognl.md" target="_blank" rel="noopener noreferrer">ognl<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——执行ognl表达式</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/mbean.md" target="_blank" rel="noopener noreferrer">mbean<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看 Mbean 的信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/heapdump.md" target="_blank" rel="noopener noreferrer">heapdump<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——dump java heap, 类似jmap命令的heap dump功能</li></ul><h4 id="_2-4-3-class-classloader相关" tabindex="-1"><a class="header-anchor" href="#_2-4-3-class-classloader相关" aria-hidden="true">#</a> 2.4.3 class/classloader相关</h4><ul><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/sc.md" target="_blank" rel="noopener noreferrer">sc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看JVM已加载的类信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/sm.md" target="_blank" rel="noopener noreferrer">sm<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看已加载类的方法信息</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/jad.md" target="_blank" rel="noopener noreferrer">jad<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——反编译指定已加载类的源码</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/mc.md" target="_blank" rel="noopener noreferrer">mc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——内存编绎器，内存编绎<code>.java</code>文件为<code>.class</code>文件</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/redefine.md" target="_blank" rel="noopener noreferrer">redefine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——加载外部的<code>.class</code>文件，redefine到JVM里</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/dump.md" target="_blank" rel="noopener noreferrer">dump<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——dump 已加载类的 byte code 到特定目录</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/classloader.md" target="_blank" rel="noopener noreferrer">classloader<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看classloader的继承树，urls，类加载信息，使用classloader去getResource</li></ul><h4 id="_2-4-4-monitor-watch-trace相关" tabindex="-1"><a class="header-anchor" href="#_2-4-4-monitor-watch-trace相关" aria-hidden="true">#</a> 2.4.4 monitor/watch/trace相关</h4><blockquote><p>请注意，这些命令，都通过字节码增强技术来实现的，会在指定类的方法中插入一些切面来实现数据统计和观测，因此在线上、预发使用时，请尽量明确需要观测的类、方法以及条件，诊断结束要执行 <code>shutdown</code> 或将增强过的类执行 <code>reset</code> 命令。</p></blockquote><ul><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/monitor.md" target="_blank" rel="noopener noreferrer">monitor<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——方法执行监控</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/watch.md" target="_blank" rel="noopener noreferrer">watch<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——方法执行数据观测</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/trace.md" target="_blank" rel="noopener noreferrer">trace<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——方法内部调用路径，并输出方法路径上的每个节点上耗时</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/stack.md" target="_blank" rel="noopener noreferrer">stack<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——输出当前方法被调用的调用路径</li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/tt.md" target="_blank" rel="noopener noreferrer">tt<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——方法执行数据的时空隧道，记录下指定方法每次调用的入参和返回信息，并能对这些不同的时间下调用进行观测</li></ul><h4 id="_2-4-5-options" tabindex="-1"><a class="header-anchor" href="#_2-4-5-options" aria-hidden="true">#</a> 2.4.5 options</h4><ul><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/options.md" target="_blank" rel="noopener noreferrer">options<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——查看或设置Arthas全局开关</li></ul><h4 id="_2-4-6-管道" tabindex="-1"><a class="header-anchor" href="#_2-4-6-管道" aria-hidden="true">#</a> 2.4.6 管道</h4><p>Arthas支持使用管道对上述命令的结果进行进一步的处理，如<code>sm java.lang.String * | grep &#39;index&#39;</code></p><ul><li>grep——搜索满足条件的结果</li><li>plaintext——将命令的结果去除ANSI颜色</li><li>wc——按行统计输出结果</li></ul><h4 id="_2-4-7-后台异步任务" tabindex="-1"><a class="header-anchor" href="#_2-4-7-后台异步任务" aria-hidden="true">#</a> 2.4.7 后台异步任务</h4><p>当线上出现偶发的问题，比如需要watch某个条件，而这个条件一天可能才会出现一次时，异步后台任务就派上用场了，详情请参考<a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/async.md" target="_blank" rel="noopener noreferrer">这里<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>使用 &gt; 将结果重写向到日志文件，使用 &amp; 指定命令是后台运行，session断开不影响任务执行(生命周期默认为1天)</li><li>jobs——列出所有job</li><li>kill——强制终止任务</li><li>fg——将暂停的任务拉到前台执行</li><li>bg——将暂停的任务放到后台执行</li></ul><h4 id="_2-4-8-web-console" tabindex="-1"><a class="header-anchor" href="#_2-4-8-web-console" aria-hidden="true">#</a> 2.4.8 Web Console</h4><p>通过websocket连接Arthas。</p><ul><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/web-console.md" target="_blank" rel="noopener noreferrer">Web Console<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h4 id="_2-4-9-用户数据回报" tabindex="-1"><a class="header-anchor" href="#_2-4-9-用户数据回报" aria-hidden="true">#</a> 2.4.9 用户数据回报</h4><p>在<code>3.1.4</code>版本后，增加了用户数据回报功能，方便统一做安全或者历史数据统计。</p><p>在启动时，指定<code>stat-url</code>，就会回报执行的每一行命令，比如： <code>./as.sh --stat-url &#39;http://192.168.10.11:8080/api/stat&#39;</code></p><p>在tunnel server里有一个示例的回报代码，用户可以自己在服务器上实现。</p><p><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/https://github.com/alibaba/arthas/blob/master/tunnel-server/src/main/java/com/alibaba/arthas/tunnel/server/app/web/StatController.java" target="_blank" rel="noopener noreferrer">StatController.java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="_2-4-10-其他特性" tabindex="-1"><a class="header-anchor" href="#_2-4-10-其他特性" aria-hidden="true">#</a> 2.4.10 其他特性</h4><ul><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/async.md" target="_blank" rel="noopener noreferrer">异步命令支持<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/save-log.md" target="_blank" rel="noopener noreferrer">执行结果存日志<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/batch-support.md" target="_blank" rel="noopener noreferrer">批处理的支持<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/alibaba/arthas/blob/master/site/src/site/sphinx/https://github.com/alibaba/arthas/issues/11" target="_blank" rel="noopener noreferrer">ognl表达式的用法说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_3-arthas场景实战" tabindex="-1"><a class="header-anchor" href="#_3-arthas场景实战" aria-hidden="true">#</a> 3. Arthas场景实战</h2><h3 id="_3-1-查看最繁忙的线程-以及是否有阻塞情况发生" tabindex="-1"><a class="header-anchor" href="#_3-1-查看最繁忙的线程-以及是否有阻塞情况发生" aria-hidden="true">#</a> 3.1 查看最繁忙的线程，以及是否有阻塞情况发生?</h3><blockquote><p>场景：我想看下查看最繁忙的线程，以及是否有阻塞情况发生? 常规查看线程，一般我们可以通过 top 等系统命令进行查看，但是那毕竟要很多个步骤，很麻烦。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>thread <span class="token parameter variable">-n</span> <span class="token number">3</span> <span class="token comment"># 查看最繁忙的三个线程栈信息</span>
thread  <span class="token comment"># 以直观的方式展现所有的线程情况</span>
thread <span class="token parameter variable">-b</span> <span class="token comment">#找出当前阻塞其他线程的线程</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-确认某个类是否已被系统加载" tabindex="-1"><a class="header-anchor" href="#_3-2-确认某个类是否已被系统加载" aria-hidden="true">#</a> 3.2 确认某个类是否已被系统加载?</h3><blockquote><p>场景：我新写了一个类或者一个方法，我想知道新写的代码是否被部署了?</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 即可以找到需要的类全路径，如果存在的话</span>
sc *MyServlet

<span class="token comment"># 查看这个某个类所有的方法</span>
sm pdai.tech.servlet.TestMyServlet *

<span class="token comment"># 查看某个方法的信息，如果存在的话</span>
sm pdai.tech.servlet.TestMyServlet testMethod  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-如何查看一个class类的源码信息" tabindex="-1"><a class="header-anchor" href="#_3-3-如何查看一个class类的源码信息" aria-hidden="true">#</a> 3.3 如何查看一个class类的源码信息?</h3><blockquote><p>场景：我新修改的内容在方法内部，而上一个步骤只能看到方法，这时候可以反编译看下源码</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 直接反编译出java 源代码，包含一此额外信息的</span>
jad pdai.tech.servlet.TestMyServlet
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-重要-如何跟踪某个方法的返回值、入参" tabindex="-1"><a class="header-anchor" href="#_3-4-重要-如何跟踪某个方法的返回值、入参" aria-hidden="true">#</a> 3.4 重要：如何跟踪某个方法的返回值、入参.... ?</h3><blockquote><p>场景：我想看下我新加的方法在线运行的参数和返回值?</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 同时监控入参，返回值，及异常</span>
<span class="token function">watch</span> pdai.tech.servlet.TestMyServlet testMethod <span class="token string">&quot;{params, returnObj, throwExp}&quot;</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">-x</span> <span class="token number">2</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>具体看watch命令。</p><h3 id="_3-5-如何看方法调用栈的信息" tabindex="-1"><a class="header-anchor" href="#_3-5-如何看方法调用栈的信息" aria-hidden="true">#</a> 3.5 如何看方法调用栈的信息?</h3><blockquote><p>场景：我想看下某个方法的调用栈的信息?</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>stack pdai.tech.servlet.TestMyServlet testMethod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行此命令之后需要即时触发方法才会有响应的信息打印在控制台上</p><h3 id="_3-6-重要-找到最耗时的方法调用" tabindex="-1"><a class="header-anchor" href="#_3-6-重要-找到最耗时的方法调用" aria-hidden="true">#</a> 3.6 重要：找到最耗时的方法调用?</h3><blockquote><p>场景：testMethod这个方法入口响应很慢，如何找到最耗时的子调用?</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 执行的时候每个子调用的运行时长，可以找到最耗时的子调用。</span>
trace pdai.tech.servlet.TestMyServlet testMethod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>运行此命令之后需要即时触发方法才会有响应的信息打印在控制台上，然后一层一层看子调用。</p><h3 id="_3-7-重要-如何临时更改代码运行" tabindex="-1"><a class="header-anchor" href="#_3-7-重要-如何临时更改代码运行" aria-hidden="true">#</a> 3.7 重要：如何临时更改代码运行?</h3><blockquote><p>场景：我找到了问题所在，能否线上直接修改测试，而不需要在本地改了代码后，重新打包部署，然后重启观察效果?</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 先反编译出class源码</span>
jad --source-only com.example.demo.arthas.user.UserController <span class="token operator">&gt;</span> /tmp/UserController.java  

<span class="token comment"># 然后使用外部工具编辑内容</span>
<span class="token function">mc</span> /tmp/UserController.java <span class="token parameter variable">-d</span> /tmp  <span class="token comment"># 再编译成class</span>

<span class="token comment"># 最后，重新载入定义的类，就可以实时验证你的猜测了</span>
redefine /tmp/com/example/demo/arthas/user/UserController.class

  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如上，是直接更改线上代码的方式，但是一般好像是编译不成功的。所以，最好是本地ide编译成 class文件后，再上传替换为好！</p><p>总之，已经完全不用重启和发布了！这个功能真的很方便，比起重启带来的代价，真的是不可比的。比如，重启时可能导致负载重分配，选主等等问题，就不是你能控制的了。</p><h3 id="_3-8-我如何测试某个方法的性能问题" tabindex="-1"><a class="header-anchor" href="#_3-8-我如何测试某个方法的性能问题" aria-hidden="true">#</a> 3.8 我如何测试某个方法的性能问题?</h3><blockquote><p>场景：我想看下某个方法的性能</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>monitor <span class="token parameter variable">-c</span> <span class="token number">5</span> demo.MathGame primeFactors
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_4-arthas源码" tabindex="-1"><a class="header-anchor" href="#_4-arthas源码" aria-hidden="true">#</a> 4. Arthas源码</h2><p>首先我们先放出一张整体宏观的模块调用图：</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220827225837014.png" alt="image-20220827225837014" tabindex="0" loading="lazy"><figcaption>image-20220827225837014</figcaption></figure><p>源码理解可以看移步这两篇文章:</p><ul><li><a href="https://www.jianshu.com/p/70c1c55f12ef" target="_blank" rel="noopener noreferrer">什么是 Arthas<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://yq.aliyun.com/articles/704228" target="_blank" rel="noopener noreferrer">Arthas阅读<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_5-优秀案例" tabindex="-1"><a class="header-anchor" href="#_5-优秀案例" aria-hidden="true">#</a> 5. 优秀案例</h2><ul><li><p><a href="https://github.com/alibaba/arthas/issues/1892" target="_blank" rel="noopener noreferrer">通过 Arthas Trace 命令将接口性能优化十倍<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/1202" target="_blank" rel="noopener noreferrer">利用Arthas精准定位Java应用CPU负载过高问题<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/1416" target="_blank" rel="noopener noreferrer">使用arthas+jprofiler做复杂链路分析<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/729" target="_blank" rel="noopener noreferrer">Arthas实践：是哪个Controller处理了请求？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://hengyun.tech/arthas-spring-boot-404-401/" target="_blank" rel="noopener noreferrer">Arthas实践--快速排查Spring Boot应用404/401问题<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/597" target="_blank" rel="noopener noreferrer">Arthas里 Trace 命令怎样工作的/ Trace命令的实现原理<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>为什么有时候trace 是多层的</li></ul></li><li><p><a href="https://github.com/alibaba/arthas/issues/569" target="_blank" rel="noopener noreferrer">引发线程cpu占用率持续飙升的根因分析<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/537#top" target="_blank" rel="noopener noreferrer">Arthas实践--jad/mc/redefine线上热更新一条龙<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/434#top" target="_blank" rel="noopener noreferrer">watch/monitor/trace 等判断重载函数/同名函数<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/160#top" target="_blank" rel="noopener noreferrer">利用Arthas排查Spring Boot应用NoSuchMethodError<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/71#top" target="_blank" rel="noopener noreferrer">Arthas的一些特殊用法文档说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://github.com/alibaba/arthas/issues/20#top" target="_blank" rel="noopener noreferrer">【Arthas问题排查集】谁调用了System.exit/System.gc?<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章" aria-hidden="true">#</a> 参考文章</h2><p><a href="https://pdai.tech/md/java/jvm/java-jvm-agent-arthas.html" target="_blank" rel="noopener noreferrer">调试排错 - Java 问题排查之应用在线调试Arthas<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zszdevelop/java-study-gitbook/edit/main/docs/java/jvm/java-jvm-agent-arthas.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zszdevelop@163.com">zszdevelop</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/java/jvm/java-jvm-oom-tool.html" class="nav-link prev" aria-label="调试排错 - Java 问题排查之JVM可视化工具"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->调试排错 - Java 问题排查之JVM可视化工具</div></a><a href="/java/jvm/java-jvm-agent-arthas-problem.html" class="nav-link next" aria-label="调试排错 - Arthas 遇到的问题"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">调试排错 - Arthas 遇到的问题<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href='https://beian.miit.gov.cn' target='_blank' style='color: var(--c-text-lighter);>闽ICP备18001806号-1</a></div><div class="copyright">Copyright © 2024 zszdevelop</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-891e5fab.js" defer></script>
  </body>
</html>
