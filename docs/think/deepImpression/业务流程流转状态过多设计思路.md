# 业务流程流转状态过多设计思路

## 1. 背景

之前处理过这样一个业务需求

>用户可以新建方案，方案下可以有多个子例。每个子例中会有状态流转。子例中的状态流转到某一环节方案才可以统一下发。到方案的下一个环节

例如：

- 方案的状态：创建中，流程A，流程B，流程C，已完成

- 子例：

  - 流程A10,A21,A22,A30
  - 流程B10,B21,B22,B30
  - 流程C10,C20,C30

  注意点：

  - 流程要全部进入到A30才能下发到B10
  - B10流转的时候也不一定直接进入B21,他还需要判断自身情况，决定流转到B21,还是B22
  - C10流转的时候也不一定直接进入B20,他还需要判断自身情况，决定流转到B20还是B30
  - 流程A10,A21等流程是由多个角色操作，在每个角色在的状态名又不一致

## 2. 遇到的问题

因为我用一个状态码，在做业务的流转问题时，我面临以下问题

1. 在处理状态流转时需要判断特别多的情况
2. 一个状态码只对应一个流程，流程是否在待开始，进行中，已完成也并不明确
3. 因为涉及不同角色，显示的文案也不同。我需要校验很多情况
4. 在与新人沟通状态流转时，特别的晕

## 3.解决

1. 按角色细分状态码
   1. 角色A：A10、A21,A30。。。。
   2. 角色B: A10,A22，A30。。。。
2. 

